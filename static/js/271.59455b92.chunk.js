"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[271],{271:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(861),a=t(885),u=t(757),s=t.n(u),c=t(791),i=t(668),o=t(731),p=t(489),f=t(820),l={section:"SearchPage_section__mSt1f",form:"SearchPage_form__-Jry+",input:"SearchPage_input__76jUa",btn:"SearchPage_btn__Hksd0"},m=t(184),v=function(){var e,r=(0,c.useState)([]),t=(0,a.Z)(r,2),u=t[0],v=t[1],h=(0,c.useState)(""),d=(0,a.Z)(h,2),x=d[0],_=d[1],b=(0,c.useState)(null),k=(0,a.Z)(b,2),y=k[0],w=k[1],Z=(0,c.useState)(!1),S=(0,a.Z)(Z,2),g=S[0],j=S[1],P=(0,o.lr)(),L=(0,a.Z)(P,2),N=L[0],I=L[1],C=null!==(e=N.get("searchQuery"))&&void 0!==e?e:"",M="Sorry, no films by your query";return(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,(0,i.LI)(r);case 4:if(0!==(t=e.sent).length){e.next=7;break}throw new Error(M);case 7:v(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w(M);case 13:return e.prev=13,j(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(r){return e.apply(this,arguments)}}();C&&e(C)}),[C]),(0,m.jsxs)("section",{className:l.section,children:[(0,m.jsx)("form",{className:l.form,onSubmit:function(e){return e.preventDefault(),I({searchQuery:x}),v([]),w(null),C},children:(0,m.jsxs)("label",{className:l.label,children:[(0,m.jsx)("input",{className:l.input,type:"text",placeholder:"Search movies",value:x,onChange:function(e){_(e.target.value)}}),(0,m.jsx)("button",{className:l.btn,type:"submit",children:"Search"})]})}),y&&(0,m.jsx)("p",{children:M}),g&&(0,m.jsx)(f.a,{}),u.length>0&&(0,m.jsx)(p.O,{movies:u})]})}},489:function(e,r,t){t.d(r,{O:function(){return c}});var n=t(731),a=t(739),u={movieItem:"MovieList_movieItem__K6bLl",movieLink:"MovieList_movieLink__kSKFa"},s=t(184),c=function(e){var r=e.movies,t=(0,a.TH)();return(0,s.jsx)("ul",{className:u.movieList,children:r.map((function(e){return(0,s.jsx)("li",{className:u.movieItem,children:(0,s.jsx)(n.rU,{className:u.movieLink,to:"/movies/".concat(e.id),state:{from:t},children:(0,s.jsx)("p",{className:u.moviePar,children:e.title})})},e.id)}))})}},668:function(e,r,t){t.d(r,{LI:function(){return o},Mc:function(){return p},_k:function(){return i},r7:function(){return l},uV:function(){return f}});var n=t(861),a=t(757),u=t.n(a),s=t(44),c="c220bc7b4cb21e29de30191d135b55c8";s.ZP.defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var e=(0,n.Z)(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("/trending/movie/day",{params:{api_key:c}});case 2:return r=e.sent,e.next=5,r.data.results;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ZP.get("search/movie",{params:{api_key:c,query:r}});case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ZP)("movie/".concat(r),{params:{api_key:c}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ZP)("movie/".concat(r,"/credits"),{params:{api_key:c}});case 2:return t=e.sent,e.abrupt("return",t.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ZP)("movie/".concat(r,"/reviews"),{params:{api_key:c}});case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=271.59455b92.chunk.js.map